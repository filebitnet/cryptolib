!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(self,(function(){return e={979:function(e,t,n){const{is_str:r,is_uint8:o,str_to_buffer:i,buffer_to_str:a,assert_uint8:s}=n(274);e.exports.encode=e=>{return r(e)&&(e=i(e)),t=function(e){s(e,"uint8toBase64 input needs to be uint8array");for(var t="",n=new Uint8Array(e),r=n.byteLength,o=0;o<r;o++)t+=String.fromCharCode(n[o]);return window.btoa(t)}(e),String(t).replace(/\+/gi,"-").replace(/\//gi,"_").replace(/=/gi,"");var t},e.exports.decode=(e,t=!0)=>(e=(e=>String(e).replace(/\-/gi,"+").replace(/_/gi,"/"))(e),t?function(e){for(var t=window.atob(e),n=t.length,r=new Uint8Array(n),o=0;o<n;o++)r[o]=t.charCodeAt(o);return r}(e):atob(e))},502:function(e,t,n){const r=n(274);e.exports.mergeKeyIv=(e,t)=>{r.assert_uint8(e,"key is not an uint8array"),r.assert_uint8(t,"iv is not an uint8array");const n=e.byteLength+t.byteLength;let o=new ArrayBuffer(e.byteLength+t.byteLength+1),i=new Uint8Array(o);const a=new DataView(e.buffer),s=new DataView(t.buffer);i[0]=1;for(let e=0;e<n;++e){let t=Math.floor(e/2),n=e%2?a.getUint8(t):s.getUint8(t);i[e+1]=n}return i},e.exports.unmergeKeyIv=e=>{if(r.assert_uint8(e,"buf is not an uint8array"),(e.byteLength-1)%2)throw new Error("unmergeKeyIv buf is invalid length is: "+e.byteLength);let t=new DataView(e.buffer);const n=t.getUint8(0),o=e.byteLength-1,i=new Uint8Array(o/2),a=new Uint8Array(o/2);for(let e=0;e<o;++e){let n=t.getUint8(1+e),r=Math.floor(e/2);e%2?i[r]=n:a[r]=n}return{version:n,key:i,iv:a}}},500:function(e,t,n){const{mergeKeyIv:r,unmergeKeyIv:o}=n(502),i=n(979),a=n(274),s=n(65);e.exports.unmergeKeyIv=o,e.exports.mergeKeyIv=r,e.exports.nameKeySizeHash=async(e,t,n)=>{a.assert_undef(e,"name is undefined"),a.assert_undef(t,"size is undefined"),a.assert_undef(n,"key is undefined"),a.assert_uint8(n,"key is not an uint8array"),i.encode(n);const r=await s(a.str_to_uint8(n+e+n)),o=`{n:${e}:s${t}:k${n}`,u=await s(a.str_to_uint8(o+a.uint8_to_hex(r,!0)));return a.uint8_to_hex(u,!0)},e.exports.encrypt=(e,t,n)=>new Promise((async r=>{a.assert_uint8(e,"data needs to be an uint8array"),a.assert_uint8(t,"key needs to be an uint8array"),a.assert_uint8(n,"iv needs to be an uint8array");let o=await window.crypto.subtle.importKey("raw",new Uint8Array(t),{name:"AES-CBC"},!1,["encrypt"]),i=await window.crypto.subtle.encrypt({name:"AES-CBC",iv:new Uint8Array(n)},o,e);r(new Uint8Array(i))})),e.exports.decrypt=(e,t,n)=>new Promise((async r=>{a.assert_uint8(e,"data needs to be an uint8array"),a.assert_uint8(t,"key needs to be an uint8array"),a.assert_uint8(n,"iv needs to be an uint8array"),e=new Uint8Array(e),t=new Uint8Array(t),n=new Uint8Array(n);let o=await window.crypto.subtle.importKey("raw",new Uint8Array(t),{name:"AES-CBC"},!1,["decrypt"]),i=await window.crypto.subtle.decrypt({name:"AES-CBC",iv:n},o,new Uint8Array(e));r(new Uint8Array(i))}))},217:function(e){var t=function(e,t){for(e=e.toString(16).toUpperCase();e.length<t;)e="0"+e;return e};e.exports=function(e){var n=Math.ceil(e.length/16),r=e.length%16||16,o=e.length.toString(16).length;o<6&&(o=6);for(var i,a="Offset";a.length<o;)a+=" ";for(a="[36m"+a+"  ",i=0;i<16;i++)a+=" "+t(i,2);a+="[0m\n",e.length&&(a+="\n");var s,u,f,y=0;for(i=0;i<n;i++){var p;for(a+="[36m"+t(y,o)+"[0m  ",u=16-(s=i===n-1?r:16),p=0;p<s;p++)a+=" "+t(e[y],2),y++;for(p=0;p<u;p++)a+="   ";for(y-=s,a+="   ",p=0;p<s;p++)a+=(f=e[y])>31&&f<127||f>159?String.fromCharCode(f):".",y++;a+="\n"}console.log(a)}},751:function(e){e.exports=(e=128)=>{let t=e/8,n=new ArrayBuffer(t),r=new Uint8Array(n),o=new Uint8Array(t);window.crypto.getRandomValues(o);for(let e=0;e<=o.length;++e)r[e]=o[e];return r}},65:function(e,t,n){const r=n(274);e.exports=function(e){return new Promise((async t=>{r.assert_uint8(e,"input for sha256 needs to be uint8array");let n=await window.crypto.subtle.digest("SHA-256",e);return t(new Uint8Array(n))}))}},274:function(e){const t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"],n=new Array(256);for(let e=0;e<256;e++)n[e]=`${t[e>>>4&15]}${t[15&e]}`;e.exports.uint8_to_hex=(e,t=!1)=>{r(e)&&(e=new Uint8Array(e));let o="";for(let t=0,r=e.length;t<r;t++)o+=n[e[t]];return t?o.toLowerCase():o},e.exports.str_to_uint8=e=>(new TextEncoder).encode(e),e.exports.uint8_to_str=e=>(new TextDecoder).decode(e);const r=e.exports.is_ab=e=>e instanceof ArrayBuffer,o=e.exports.is_str=e=>"string"==typeof e;e.exports.assert_str=(e,t="input is not an string")=>{if(!o(e))throw new Error(t)};const i=e.exports.is_uint8=e=>e instanceof Uint8Array;e.exports.assert_uint8=(e,t="input is not an uint8array")=>{if(!i(e))throw new Error(t)};const a=e.exports.is_undef=e=>void 0===e;e.exports.assert_undef=(e,t="input is undefined")=>{if(a(e))throw new Error(t)}},814:function(e,t,n){e.exports.keygen=n(751),e.exports.sha256=n(65),e.exports.hex=n(217),e.exports.base64=n(979),e.exports.crypto=n(500),e.exports.utils=n(274)}},t={},function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}(814);var e,t}));